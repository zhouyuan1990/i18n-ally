<p align="center">
<img src="https://github.com/antfu/i18n-ally/blob/master/screenshots/full-logo.png?raw=true" alt="logo" width="500"/>
</p>

<p align='center'>
<a href="https://github.com/antfu/i18n-ally/blob/master/README.md">English</a> | 简体中文
</p>

<p align="center">
<a href="https://marketplace.visualstudio.com/items?itemName=antfu.i18n-ally" target="__blank"><img src="https://img.shields.io/visual-studio-marketplace/v/antfu.i18n-ally.svg?color=blue&amp;label=VSCode%20Marketplace&amp;logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMjU2IDI1NiI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2ZmZjt9LmEsLmd7ZmlsbC1ydWxlOmV2ZW5vZGQ7fS5ie21hc2s6dXJsKCNhKTt9LmN7ZmlsbDojMDA2NWE5O30uZHtmaWxsOiMwMDdhY2M7fS5le2ZpbGw6IzFmOWNmMDt9LmZ7b3BhY2l0eTowLjI1O30uZ3tmaWxsOnVybCgjYik7fTwvc3R5bGU+PG1hc2sgaWQ9ImEiIHg9Ii0wLjE2IiB5PSIwLjY2IiB3aWR0aD0iMjU2LjE2IiBoZWlnaHQ9IjI1NC42OCIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xODEuNTMsMjU0LjI1YTE1LjkzLDE1LjkzLDAsMCwwLDEyLjctLjQ5bDUyLjcxLTI1LjM2QTE2LDE2LDAsMCwwLDI1NiwyMTRWNDJhMTYsMTYsMCwwLDAtOS4wNi0xNC40MkwxOTQuMjMsMi4yNEExNS45NCwxNS45NCwwLDAsMCwxNzgsMy43YTE2LjMsMTYuMywwLDAsMC0xLjkxLDEuNjNMNzUuMTUsOTcuMzksMzEuMiw2NGExMC42NSwxMC42NSwwLDAsMC0xMy42MS42MUwzLjQ5LDc3LjQ1YTEwLjY4LDEwLjY4LDAsMCwwLDAsMTUuNzhMNDEuNTksMTI4LDMuNDgsMTYyLjc3YTEwLjY4LDEwLjY4LDAsMCwwLDAsMTUuNzhsMTQuMSwxMi44MkExMC42NSwxMC42NSwwLDAsMCwzMS4yLDE5Mmw0NC0zMy4zNywxMDAuOSw5Mi4wNkExNiwxNiwwLDAsMCwxODEuNTMsMjU0LjI1Wk0xOTIsNjkuODksMTE1LjQ4LDEyOCwxOTIsMTg2LjEyWiIvPjwvbWFzaz48bGluZWFyR3JhZGllbnQgaWQ9ImIiIHgxPSIxMjcuODQiIHkxPSIyNTUuNDIiIHgyPSIxMjcuODQiIHkyPSIwLjc0IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEsIDAsIDAsIC0xLCAwLCAyNTYuMDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48dGl0bGU+QXJ0Ym9hcmQgMTwvdGl0bGU+PGcgY2xhc3M9ImIiPjxwYXRoIGNsYXNzPSJjIiBkPSJNMjQ2Ljk0LDI3LjY0LDE5NC4xOSwyLjI0QTE1Ljk0LDE1Ljk0LDAsMCwwLDE3Niw1LjMzTDMuMzIsMTYyLjc3YTEwLjY3LDEwLjY3LDAsMCwwLDAsMTUuNzhsMTQuMSwxMi44MmExMC42NywxMC42NywwLDAsMCwxMy42Mi42MUwyMzksMzQuMjNhMTAuNTksMTAuNTksMCwwLDEsMTcsOC40NHYtLjYyQTE2LDE2LDAsMCwwLDI0Ni45NCwyNy42NFoiLz48cGF0aCBjbGFzcz0iZCIgZD0iTTI0Ni45NCwyMjguMzZsLTUyLjc1LDI1LjRBMTUuOTQsMTUuOTQsMCwwLDEsMTc2LDI1MC42N0wzLjMyLDkzLjIzYTEwLjY3LDEwLjY3LDAsMCwxLDAtMTUuNzhsMTQuMS0xMi44MkExMC42NywxMC42NywwLDAsMSwzMS4wNiw2NEwyMzksMjIxLjc3YTEwLjU5LDEwLjU5LDAsMCwwLDE3LTguNDRWMjE0QTE2LDE2LDAsMCwxLDI0Ni45NCwyMjguMzZaIi8+PHBhdGggY2xhc3M9ImUiIGQ9Ik0xOTQuMiwyNTMuNzZhMTYsMTYsMCwwLDEtMTguMi0zLjA5QTkuMzcsOS4zNywwLDAsMCwxOTIsMjQ0VjEyYTkuMzcsOS4zNywwLDAsMC0xNi02LjYzLDE2LDE2LDAsMCwxLDE4LjItMy4wOUwyNDYuOTMsMjcuNkExNiwxNiwwLDAsMSwyNTYsNDJWMjE0YTE2LDE2LDAsMCwxLTkuMDcsMTQuNDJaIi8+PGcgY2xhc3M9ImYiPjxwYXRoIGNsYXNzPSJnIiBkPSJNMTgxLjM4LDI1NC4yNWExNS45MywxNS45MywwLDAsMCwxMi43LS40OWw1Mi43LTI1LjM2QTE2LDE2LDAsMCwwLDI1NS44NCwyMTRWNDJhMTYsMTYsMCwwLDAtOS4wNi0xNC40MkwxOTQuMDgsMi4yNEExNiwxNiwwLDAsMCwxNzcuOCwzLjdhMTYuMywxNi4zLDAsMCwwLTEuOTEsMS42M0w3NSw5Ny4zOSwzMSw2NGExMC42NSwxMC42NSwwLDAsMC0xMy42MS42MUwzLjMzLDc3LjQ1YTEwLjY4LDEwLjY4LDAsMCwwLDAsMTUuNzhMNDEuNDQsMTI4LDMuMzIsMTYyLjc3YTEwLjY4LDEwLjY4LDAsMCwwLDAsMTUuNzhsMTQuMSwxMi44MkExMC42NSwxMC42NSwwLDAsMCwzMSwxOTJMNzUsMTU4LjYxbDEwMC45LDkyLjA2QTE1Ljk0LDE1Ljk0LDAsMCwwLDE4MS4zOCwyNTQuMjVabTEwLjUtMTg0LjM2TDExNS4zMiwxMjhsNzYuNTYsNTguMTJaIi8+PC9nPjwvZz48L3N2Zz4=" alt="Visual Studio Marketplace Version" /></a>
<a href="https://marketplace.visualstudio.com/items?itemName=antfu.i18n-ally" target="__blank"><img src="https://img.shields.io/visual-studio-marketplace/d/antfu.i18n-ally.svg?color=4bdbe3" alt="Visual Studio Marketplace Downloads" /></a>
<a href="https://marketplace.visualstudio.com/items?itemName=antfu.i18n-ally" target="__blank"><img src="https://img.shields.io/visual-studio-marketplace/i/antfu.i18n-ally.svg?color=63ba83" alt="Visual Studio Marketplace Installs" /></a>
<a href="https://marketplace.visualstudio.com/items?itemName=antfu.i18n-ally" target="__blank"><img src="https://vsmarketplacebadge.apphb.com/trending-monthly/antfu.i18n-ally.svg?color=a1b858" alt="Marketplace Trending Monthly" /></a>
<br/>
<a href="https://circleci.com/gh/antfu/i18n-ally/" target="__blank"><img alt="CircleCI" src="https://img.shields.io/circleci/build/github/antfu/i18n-ally"></a>
<a href="https://github.com/antfu/i18n-ally" target="__blank"><img src="https://img.shields.io/github/last-commit/antfu/i18n-ally.svg?color=a38eed" alt="GitHub last commit" /></a>
<a href="https://github.com/antfu/i18n-ally/issues" target="__blank"><img src="https://img.shields.io/github/issues/antfu/i18n-ally.svg?color=c977be" alt="GitHub issues" /></a>
<a href="https://github.com/antfu/i18n-ally" target="__blank"><img alt="GitHub stars" src="https://img.shields.io/github/stars/antfu/i18n-ally?style=social"></a>
</p>

<p align='center'><b>
🚧 请注意，本中文文档并非实时更新，可能会有和英文版不对应的情况，仅供参考。如有歧义，请一切以<a href="https://github.com/antfu/i18n-ally/blob/master/README.md">英文版</a>文档为主。
</b></p>

<br>


## 🧱 支持的框架

插件会根据当前项目的依赖自动检测框架。

| Framework | Status | Trigger Packages |
| --- | --- | --- |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/vue.png) [Vue](https://vuejs.org/) | ✅ | [`vue-i18n`](https://github.com/kazupon/vue-i18n), [`vuex-i18n`](https://github.com/dkfbasel/vuex-i18n), [`vue-i18next`](https://github.com/panter/vue-i18next), [`nuxt-i18n`](https://github.com/nuxt-community/nuxt-i18n) |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/vue.png) [Vue SFC i18n](https://kazupon.github.io/vue-i18n/guide/sfc.html) | ✅ | [`@kazupon/vue-i18n-loader`](https://www.npmjs.com/package/@kazupon/vue-i18n-loader) |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/react.png) [React](https://reactjs.org/) | ✅ | [`react-i18next`](https://github.com/i18next/react-i18next), [`react-intl`](https://github.com/formatjs/react-intl), [`next-i18next`](https://github.com/isaachinman/next-i18next) |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/angular.png) Angular([ngx-translate](http://www.ngx-translate.com/)) | ✅ | [`@ngx-translate/core`](https://github.com/ngx-translate/core) |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/flutter.png) Flutter([flutter_i18n](https://github.com/ilteoood/flutter_i18n)) | ✅ | [`flutter_i18n`](https://github.com/ilteoood/flutter_i18n) |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/ember.png) [Ember.js](https://emberjs.com/) | ✅ | [`ember-intl`](https://github.com/ember-intl/ember-intl) |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/vscode.png) [VSCode Extension](https://code.visualstudio.com/api) | ✅ | [`@types/vscode`](https://www.npmjs.com/package/@types/vscode), [`vscode`](https://www.npmjs.com/package/vscode) |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/i18next.png) [i18next](https://www.i18next.com/) | ✅ | [`i18next`](https://www.npmjs.com/package/i18next) |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/i18ntag.png) [i18nTag](http://i18n-tag.kolmer.net/) | ✅ | [`es2015-i18n-tag`](https://www.npmjs.com/package/es2015-i18n-tag) |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/angular.png) [Angular](https://angular.io/)(native) | [Vote Here](https://github.com/antfu/i18n-ally/issues/114) |  |
| ![](https://raw.github.com/antfu/i18n-ally/master/screenshots/frameworks/rails.png) [Rails](https://github.com/svenfuchs/rails-i18n) | [Vote Here](https://github.com/antfu/i18n-ally/issues/136) |  |

如果您希望插件支持上面未列出的框架，你可以发起一个 [框架支持请求](https://github.com/antfu/i18n-ally/issues/new?assignees=&labels=framework+request&template=framework-support-request.md&title=%5BFramework+Request%5D) 或者直接PR。（如果可以请尽量使用英文，让更多人可以看到并参与进来，感谢！）


<h2 align="center"> ⚡ 主要功能 </h2>

<h3 align="center"> 内联翻译显示 </h3>

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/annotation.png?raw=true' width='700px'/>
</p>

<h3 align="center"> 悬浮窗 </h3>

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/hover.png?raw=true' width='600px'/>
</p>


<h3 align="center"> 统一管理所有翻译文案 </h3>

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/progress_report.png?raw=true' width='600px'/>
</p>

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/manage.png?raw=true' width='600px'/>
</p>

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/missing_keys.png?raw=true' width='600px'/>
</p>


<h3 align="center"> 一键机器翻译 </h3>

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/problems.png?raw=true' width='600px'/>
</p>


<h3 align="center"> 支持多种文案格式 </h3>

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/yaml_support.png?raw=true' width='500px'/>
</p>


<h3 align="center"> 重构 </h3>

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/refactor_translate.png?raw=true' width='500px'/>
</p>


<h3 align="center"> 从代码中提取文案 </h3>

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/extract.png?raw=true' width='500px'/>
</p>

<h3 align="center"> JSON 和 YAML 的内联翻译显示 </h3>

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/locale-annotation.png?raw=true' width='700px'/>
</p>


<h3 align="center"> 整体 </h3>

- 支持多目录工作区
- 支持远程开发 (Remote Development)
- 支持大多数流行框架
- 插件自身多语言支持 [翻译列表](https://github.com/antfu/i18n-ally#-help-translate-this-extension)

<p align="center">
<img src='https://github.com/antfu/i18n-ally/blob/master/screenshots/overview.png?raw=true' width='700px'/>
</p>


## 📜 支持的文案格式

| 文件格式 | 读 | 写 | 内联显示 | 备注 |
| --- | --- | --- | --- | --- |
| JSON | ✅ | ✅ | ✅ | |
| YAML | ✅ | ✅ | ✅ | *注释不会保留\** |
| JSON5 | ✅ | ✅ | ❌ | *注释不会保留\** |
| JavaScript | ✅ | ❌ | ❌ | *强制只读模式* |
| TypeScript | ✅ | ❌ | ❌ | *强制只读模式* |

*\* 受限于 `yaml.dumps`([#196](https://github.com/nodeca/js-yaml/issues/196)) 和 `JSON5.stringify`([#177](https://github.com/json5/json5/issues/177)), **YAML 和 JSON5 的注释在任何写入操作后将会丢失**。如果你希望保留注释，可以可以通过设置 `i18n-ally.readonly` 让插件在只读模式工作。*


## 📂 目录结构

您可以将语言目录置为一下两种形式

```
  locales
  ├── en.json
  ├── de-DE.json
  ├── zh-CN.yml   # YAML 格式同样支持
  ├── zh-TW.ts    # 你也可以混合不同的格式
  ├── ...
  └── <contry-code>.json
```

或者

```
  locales
  ├── en
  |   ├── common.json
  |   ├── buttons.json
  |   ├── ...
  |   └── <filenames>.json
  ├── de-DE
  |   ├── common.json
  |   ├── buttons.json
  |   └── ...
  └── <contry-code>
      ├── common.json
      ├── buttons.json
      └── ...
```


## ⚙ 常用设置

下列所有的设置需要加上 "`i18n-ally.`" 前缀

| 字段 | 默认值 | 描述 |
| --- | --- | --- |
| `sourceLanguage` | `en` | 翻译源语言 |
| `displayLanguage` | `en` | 显示语言 |
| `localesPaths` | 自动 | 翻译文件夹路径 (相对于项目根目录)，你也可以使用Glob匹配模式。 |
| `sortedKeys` | `false` | 保存排序后的JSON/YAML |
| `keystyle` | 自动 | 翻译路径格式, 可以是 `flat`({"a.b.c": "..."}) 或 `nested`({"a": {"b": {"c": "..."}}}). |
| `readonly` | `false` | 只读模式 |
| `annotations` | `true` | 启用内联注释 |
| `keepFulfilled` | `false` | 始终用空字符串填充所有的键 |
| `enabledFrameworks` | 自动 | 指定要使用的框架支持。如果未设置任何值，插件将自动检测框架 |
| `indent` | 2 | 缩进空格数 |
| `tabStyle` | `space` | 使用空格或Tab进行缩进 |
| `promptTranslatingSource` | `false` | 每次翻译前询问翻译源语言 |



## 🎯 常见问题

### 插件没有作用 (侧边栏没有显示图标)

本插件支持许多不同的框架框架，请确保您正在使用的框架在[支持列表](https://github.com/antfu/i18n-ally#-supported-frameworks)中。

### 我可以看到插件的图标显示在侧边栏，但没有任何的翻译文案

1. **区域设置路径配置缺失**，您可能需要通过下列任一方式手动配置翻译文件路径
     - 打开**命令面板**（`Ctrl-Shift-P`或`⌘⇧P`），选择 `Vue i18n 助手: 手动设置语言目录` 并按照指南操作。
     - 打开 VSCode 的设置文件并手动设置 `vue-i18n-ally.localesPaths`。
2. **源语言/显示语言设置**。 默认语言环境设置为英语（`en`）。 如果您的项目不支持英语，则可能需要通过命令 `Vue i18n 助手: 更改源语言` 进行修改。
3. 检查你的 **目录结构**


## 👨‍💻 感谢

本插件最初来源于 [think2011/vscode-vue-i18n](https://github.com/think2011/vscode-vue-i18n)，非常感谢 [@think2011](https://github.com/think2011) 的启发。

Vue SFC 的支持来自于 vue-i18n 的作者 [kazupon](https://github.com/kazupon) 的 [kazupon/vue-i18n-locale-message](https://github.com/kazupon/vue-i18n-locale-message)。感谢提供的帮助!

同时也十分感谢所有这些很棒的 [贡献者](https://github.com/antfu/i18n-ally/graphs/contributors) 和看到这里的你。

最后，我希望特别感谢我的伴侣 [@iiiiiiines](https://github.com/iiiiiiines) 支持我并鼓励我做出这个项目。


## ☕ 请我喝杯咖啡

我在这个项目里投入了许多精力和时间，如果您觉得它有用，你也可以考虑请我喝杯咖啡！

通过 [PayPal](https://paypal.me/antfu7) 或者 [支付宝](https://github.com/antfu/vue-i18n-ally/blob/master/screenshots/alipay.jpg)，**干杯！！！ 🙌**


## 📄 License

[MIT License](https://github.com/antfu/i18n-ally/blob/master/LICENSE) © 2019-2020 [Anthony Fu](https://github.com/antfu)
在i18n Ally的基础上增加了拼音支持
https://marketplace.visualstudio.com/items?itemName=antfu.i18n-ally